<div class=ankiCard>
  <small id="ticket">{{Билет}}. {{Заголовок}}.</small>
  <div class="hidden">
    {{type:Ответ}}
    <div id="Answer">{{Ответ}}</div>
  </div>
  {{#Изображение}}<p>{{Изображение}}</p>{{/Изображение}}
  {{#Текст}}<p>{{Текст}}</p>{{/Текст}}

  <p class="answers">
    <button type="button" id="1" class="answer">{{Вариант 1}}</button>
    <button type="button" id="2" class="answer">{{Вариант 2}}</button>
    <button type="button" id="3" class="answer">{{Вариант 3}}</button>
    <button type="button" id="4" class="answer">{{Вариант 4}}</button>
    <button type="button" id="5" class="answer">{{Вариант 5}}</button>
  </p>
</div>
<script>

  // Get cards
  var cards = document.getElementsByClassName("ankiCard");

  // Loop through each card (for compatibility with AnkiWeb
  for (var c = 0; c < cards.length; c++) {
    card = cards[c];

    // Get values from hidden fields
    var Answer = document.getElementById("Answer").textContent;


    //var id = document.getElementById("ID").textContent;
    //var choices = document.getElementById("Choices").textContent;

    // Store the 6 multiple choice buttons as an array
    var buttons = card.getElementsByTagName('button');

    // Only run if front side:
    if (card.getElementsByTagName("CODE").length == 0 && c == 0) {
      // Make the buttons work
      for (var i = 0; i < buttons.length; i++) {
        buttons[i].onclick = clickFunction;
      }
    } else {


      // Only run if back side:
      // Style the buttons for correct answers.
      buttons[+Answer - 1].className += " correct";

      // Style the buttons for incorrect answers.
      // The "CODE" tag is generated by Anki from the type:Answer field
      var Compare = card.getElementsByTagName("CODE");

      if (Compare.length == 0) { break; }
      var CompareElems = Compare[0].getElementsByTagName("*");
      if (CompareElems[0] != null) {
        var Answered = CompareElems[0].textContent;

        if (!isNaN(+Answered) && +Answered > 0 && +Answer != +Answered) {
          buttons[+Answered - 1].className += " wrong";
        }
      }
    }// End back side Only
  }//End card loop

  function clickFunction() {
    // Write the button's text into the type:Answer field.
    var input = document.getElementById("typeans");
    input.value = this.id;

    // Simulate pressing enter on the input field.
    var ev = document.createEvent('Event');
    ev.initEvent('keypress');
    ev.which = ev.keyCode = 13;
    input.dispatchEvent(ev);
  }
</script>